<template>
  <lightning-card title="The Agreement">
    <div class="slds-var-p-around_medium">
      <template lwc:if={account}>
        <p>This agreement is between {account.Name.value} and the undersigned.</p>
        <p>1. The undersigned agrees to pay the sum of $1000 on the first of each month for the next 12 months.</p>
        <p>2. The undersigned agrees to maintain the property in good condition.</p>
        <p>3. The undersigned agrees to vacate the property within 30 days of the end of the agreement.</p>
        <p>By signing below, you agree to the terms and conditions of this agreement.</p>
      </template>

      <br />
      <div>
        <h1>Sign Here</h1>
      </div>
      <template lwc:if={noSignatureData}>
        <div class="slds-var-p-around_small">
          <canvas id="signatureCanvas" width="300" height="60" style="border: 2px solid red;"></canvas>
        </div>
        <div class="slds-var-p-around_small">
          <lightning-button label="Clear" onclick={clearCanvas} class="slds-var-p-right_small"></lightning-button>
          <lightning-button label="Preview Agreement" onclick={saveSignature}></lightning-button>
        </div>
      </template>
      <template lwc:if={signatureData}>
        <div class="slds-var-p-around_small">
          <img src={signatureData} alt="Signature" style="border: 2px solid grey;" />
        </div>
        <div class="slds-var-p-around_small">
          <lightning-button label="Save Agreement" onclick={saveAgreement}></lightning-button>
        </div>
      </template>
    </div>
  </lightning-card>
</template>